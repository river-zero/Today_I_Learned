- [배열(Array)](#배열array)
- [울타리 말뚝 오류](#울타리-말뚝-오류)
- [구조체와 배열](#구조체와-배열)
- [2차원 배열(2-Dimensional Array)](#2차원-배열2-dimensional-array)
- [문자열(Character Array)](#문자열character-array)
- [Stack Overflow](#stack-overflow)
- [포맷 지시자(Format Indicator)](#포맷-지시자format-indicator)
- [C++ 포맷 처리](#c-포맷-처리)

# 배열(Array)
동일한 타입의 변수 묶음이다.

인덱스로 쓸 수 있는 건 상수, 상수 변수, 열거형, 변수, 심지어 표현식도 가능하다. 그러나 배열을 선언할 때 배열의 크기에는 상수, 상수 변수, 열거형만 넣을 수 있다. 쉽게 말해서 변수로 지정할 수 없다. 왜냐면 변수는 런타임에 값이 들어가는데 인덱스는 컴파일할 때 값이 존재해야 하기 때문이다.

배열은 데이터를 메모리에 연속으로 넣어둔다. 개별적으로 접근하려면 반드시 인덱스와 함께 사용해야 한다. 배열의 이름 자체는 그 배열의 시작 주소다.

# 울타리 말뚝 오류
배열의 인덱스는 0부터 센다. 이 말은 `int nums[5]`라면 이 배열의 인덱스는 0부터 4까지라는 것이다. 따라서 `nums[5]`는 범위 밖의 데이터에 접근하는 것이므로 오류에 주의해야 한다.

# 구조체와 배열
```
#include <iostream>

struct Point2D {
    double x;
    double y;
};

int main() {
    Point2D pts[3];
    pts[0].x = 1.1;
    pts[0].y = 1.1;
}
```

구조체 타입도 배열로 만들 수 있다. 다만 멤버로 접근하기 위해서는 인덱스로 먼저 배열의 원소에 접근하고 점 연산자를 사용해야 한다.

# 2차원 배열(2-Dimensional Array)
크기를 지정할 때는 [행, 열]과 같이 지정하면 된다. 초기값도 이 순서대로 기입한다. 하나의 행을 중괄호로 묶어서 표기하고 쉼표로 구분해서 열을 표기하는 식이다.

# 문자열(Character Array)
문자들로 이루어진 배열이다. 일반적인 배열과 다른 점은 문장의 끝을 알려주는 널 문자 `\0`가 있어야 한다는 것이다. 그래서 꼭 넣을 문자보다 한 자리 더 들어갈수 있도록 인덱스를 지정해야 한다.

`std::cout << myString;`를 사용해서 문자열의 값들을 한 방에 출력할 수 있게 규칙이 추가되었다.

# Stack Overflow
메모리는 연속으로 쌓여있는 공간인 스택으로 되어 있고 특정 부분에 변수를 할당해 사용하는 방식이다. 만약 준비한 공간을 넘어선 값이 써지면 스택이 손상되었다는 치명적인 에러가 발생한다. 이를 스택 오버플로라 한다.

# 포맷 지시자(Format Indicator)
```
int number{ 1 };
char name[]{ "Dobby" };
float average{ 90.1f };
char output[128]{};

sprintf_s(output, sizeof(output), "%d번 학생 %s는 평균 %.1f 입니다.", number, name, average);
```

이런 식으로 `sprintf_s` 함수를 사용해서 여러 타입의 값을 조합해 문자열을 사용해야 하는 경우가 있다. 이런 방식은 C 스타일로 구식이긴 하지만 한 줄에 처리할 수 있어 요즘도 자주 사용한다.

`% [플래그] [너비] [.정밀도] [길이] 지시자` 순서대로 사용한다. 대괄호로 표기한 것들은 생략이 가능하다.

|  지시자  |        입력 형태        |      예시      |
| :------: | :---------------------: | :------------: |
| d 또는 i |    부호 있는 정수형     |      123       |
|    f     |    10진수 부동 소수     |      1.23      |
|    c     |          문자           |       a        |
|    s     |         문자열          | this is string |
|    %     |       % 기호 출력       |       %        |
|    u     |    부호 없는 정수형     |      456       |
|    o     |     부호 없는 8진수     |      710       |
|    x     | 부호 없는 16진수 소문자 |       1a       |
|    X     | 부호 없는 16진수 대문자 |       1A       |
|    e     |  지수 과학표기 소문자   |    1.234e+2    |
|    E     |  지수 과학표기 대문자   |    1.234E+2    |
|    g     |     %e의 단축 표현      |     123.4      |
|    G     |     %E의 단축 표현      |     123.4      |
|    a     | 16진수 부동소수 소문자  | -0xc.123fep-2  |
|    A     | 16진수 부동소수 대문자  | -0XC.123FEP-2  |
|    p     |       포인터 주소       |     a20000     |

| 플래그 |           설명           |
| :----: | :----------------------: |
|   -    |        왼쪽 정렬         |
|   +    | 양수 또는 음수 기호 표기 |
|   0    |    공백 대신 0을 표기    |

| 너비  |          설명          |
| :---: | :--------------------: |
| 숫자  | 숫자만큼의 너비로 출력 |

| .정밀도 |               설명                |
| :-----: | :-------------------------------: |
|  .숫자  | 소수점 이하 자리에 대한 너비 지정 |

# C++ 포맷 처리
```
#include <iostream>
#include <sstream>

int main()
{
    int number{ 1 };
    char name[]{ "Dobby" };
    float average{ 90.1f };

    std::ostringstream oss;

    oss << number
        << "번 학생 "
        << name
        << "는 평균 "
        << average
        << "입니다.";

    std::cout << oss.str();
}
```

> `#include <sstream>`
> 
> string stream의 약자로 입출력이 가능한 문자열 스트림 기능을 포함하고 있다.

> `std::ostringstream oss;`
> 
> 문자열 스트림은 크게 입력/출력으로 구분되어 있다. 스트림이라는 공통된 개념을 사용하므로 `std::cout`과 같은 형태로 사용이 가능하다.

> `std::cout << oss.str();`
>
> string stream을 다루는 객체이므로 여기에서 원하는 문자열을 개별로 요쳥해 가져와야 한다. 그 기능을 `str()` 함수가 처리해준다.

| 포맷 조작기  |         설명         |
| :----------: | :------------------: |
| setiosflags  |     플래그 설정      |
| resetioflags |     플래그 제거      |
|   setbase    |      진법 지정       |
|   setfill    |   채우기 문자 지정   |
| setprecision | 소수점의 정밀도 지정 |
|     setw     |    필드의 폭 지정    |

|           플래그           |               설명               |
| :------------------------: | :------------------------------: |
| boolalpha 또는 noboolalpha |     bool 값 알파벳 형식 지정     |
|  showbase 또는 noshowbase  |      진법 접두어 표시 여부       |
| showpoint 또는 noshowpoint |         소수점 표시 여부         |
|    skipws 또는 noskipws    |          공백 무시 여부          |
|   unitbuf 또는 nounitbuf   |    스트림 내용 즉시 방류 여부    |
| uppercase 또는 nouppercase | 시스템 접두어 대소문자 형식 지정 |
|            dec             |           10진수 표기            |
|            hex             |           16진수 표기            |
|            oct             |            8진수 표기            |
|           fixed            |         고정 소수점 표현         |
|         scientific         |           지수 표현볍            |
|          internal          |         문자들 사이 공백         |
|            left            |            왼쪽 정렬             |
|           right            |           오른쪽 정렬            |